apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    grafana_dashboard: "true"
  name: rabbitmq-overview-dashboard
  namespace: monitoring
data:
  prometheus-2.0-overview-dashboard.json: |-
    {"__inputs":[{"name":"DS_PROMETHEUS","label":"prometheus","description":"A prometheus server with prometheus server metrics","type":"datasource","pluginId":"prometheus","pluginName":"Prometheus"}],"__requires":[{"type":"grafana","id":"grafana","name":"Grafana","version":"4.5.0-beta1"},{"type":"panel","id":"graph","name":"Graph","version":""},{"type":"datasource","id":"prometheus","name":"Prometheus","version":"1.0.0"},{"type":"panel","id":"singlestat","name":"Singlestat","version":""},{"type":"panel","id":"table","name":"Table","version":""}],"annotations":{"list":[{"datasource":"${DS_PROMETHEUS}","enable":true,"expr":"sum(changes(prometheus_config_last_reload_success_timestamp_seconds{instance=~\"$instance\"}[10m])) by (instance)","hide":false,"iconColor":"rgb(0, 96, 19)","limit":100,"name":"reloads","showIn":0,"step":"5m","type":"alert"},{"datasource":"${DS_PROMETHEUS}","enable":true,"expr":"count(sum(up{instance=\"$instance\"}) by (instance) < 1)","hide":false,"iconColor":"rgba(255, 96, 96, 1)","limit":100,"name":"down","showIn":0,"step":"5m","type":"alert"}]},"description":"Overview of metrics from Prometheus 2.0.  \r\nUseful for using prometheus to monitor your prometheus.\r\nRevisions welcome!","editable":true,"gnetId":3662,"graphTooltip":0,"hideControls":false,"id":null,"links":[],"refresh":"30s","rows":[{"collapse":false,"height":250,"panels":[{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"${DS_PROMETHEUS}","decimals":3,"description":"Percentage of uptime during the most recent $interval period.  Change the period with the 'interval' dropdown above.","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":false},"id":2,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"%","postfixFontSize":"100%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"span":3,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"avg(avg_over_time(up{instance=~\"$instance\",job=~\"$job\"}[$interval]) * 100)","format":"time_series","intervalFactor":2,"legendFormat":"","refId":"A","step":40}],"thresholds":"90, 99","title":"Uptime [$interval]","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"columns":[],"datasource":"${DS_PROMETHEUS}","description":"Servers which are DOWN RIGHT NOW! \nFIX THEM!!","fontSize":"100%","hideTimeOverride":true,"id":25,"links":[],"pageSize":null,"scroll":true,"showHeader":true,"sort":{"col":0,"desc":true},"span":3,"styles":[{"alias":"Time","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"Time","type":"hidden"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"pattern":"/__name__|job|Value/","thresholds":[],"type":"hidden","unit":"short"},{"alias":"   ","colorMode":"cell","colors":["rgba(255, 0, 0, 0.9)","rgba(237, 129, 40, 0.89)","rgba(255, 0, 0, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"link":false,"pattern":"instance","thresholds":["","",""],"type":"string","unit":"short"}],"targets":[{"expr":"up{instance=~\"$instance\",job=~\"$job\"} < 1","format":"table","intervalFactor":2,"refId":"A","step":2}],"timeFrom":"1s","title":"Currently Down","transform":"table","type":"table"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"${DS_PROMETHEUS}","description":"Total number of time series in prometheus","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"id":12,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"span":3,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(prometheus_tsdb_head_series{job=~\"$job\",instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"refId":"B","step":40}],"thresholds":"1000000,2000000","title":"Total Series","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"${DS_PROMETHEUS}","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"id":14,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"span":3,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(prometheus_tsdb_head_chunks{job=~\"$job\",instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"refId":"B","step":40}],"thresholds":"","title":"Memory Chunks","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"at a glance","titleSize":"h6"},{"collapse":false,"height":236,"panels":[{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"${DS_PROMETHEUS}","description":"The total number of rule group evaluations missed due to slow rule group evaluation.","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"id":16,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(sum_over_time(prometheus_evaluator_iterations_missed_total{job=~\"$job\",instance=~\"$instance\"}[$interval]))","format":"time_series","intervalFactor":2,"refId":"A","step":40}],"thresholds":"1,10","title":"Missed Iterations [$interval]","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"${DS_PROMETHEUS}","description":"The total number of rule group evaluations skipped due to throttled metric storage.","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"id":18,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(sum_over_time(prometheus_evaluator_iterations_skipped_total{job=~\"$job\",instance=~\"$instance\"}[$interval]))","format":"time_series","intervalFactor":2,"refId":"A","step":40}],"thresholds":"1,10","title":"Skipped Iterations [$interval]","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"${DS_PROMETHEUS}","description":"Total number of scrapes that hit the sample limit and were rejected.","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"id":19,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(sum_over_time(prometheus_target_scrapes_exceeded_sample_limit_total{job=~\"$job\",instance=~\"$instance\"}[$interval]))","format":"time_series","intervalFactor":2,"refId":"A","step":40}],"thresholds":"1,10","title":"Tardy Scrapes [$interval]","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"${DS_PROMETHEUS}","description":"Number of times the database failed to reload block data from disk.","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"id":13,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(sum_over_time(prometheus_tsdb_reloads_failures_total{job=~\"$job\",instance=~\"$instance\"}[$interval]))","format":"time_series","intervalFactor":2,"refId":"A","step":40}],"thresholds":"1,10","title":"Reload Failures [$interval]","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"${DS_PROMETHEUS}","description":"Sum of all skipped scrapes","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"id":20,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"span":4,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(sum_over_time(prometheus_target_scrapes_exceeded_sample_limit_total{job=~\"$job\",instance=~\"$instance\"}[$interval])) + \nsum(sum_over_time(prometheus_target_scrapes_sample_duplicate_timestamp_total{job=~\"$job\",instance=~\"$instance\"}[$interval])) + \nsum(sum_over_time(prometheus_target_scrapes_sample_out_of_bounds_total{job=~\"$job\",instance=~\"$instance\"}[$interval])) + \nsum(sum_over_time(prometheus_target_scrapes_sample_out_of_order_total{job=~\"$job\",instance=~\"$instance\"}[$interval])) ","format":"time_series","intervalFactor":2,"refId":"A","step":40}],"thresholds":"1,10","title":"Skipped Scrapes [$interval]","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"quick numbers","titleSize":"h6"},{"collapse":false,"height":250,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"All non-zero failures and errors","fill":1,"id":33,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":12,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(increase(net_conntrack_dialer_conn_failed_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Failed Connections","refId":"A","step":2},{"expr":"sum(increase(prometheus_evaluator_iterations_missed_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Missed Iterations","refId":"B","step":2},{"expr":"sum(increase(prometheus_evaluator_iterations_skipped_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Skipped Iterations","refId":"C","step":2},{"expr":"sum(increase(prometheus_rule_evaluation_failures_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Evaluation","refId":"D","step":2},{"expr":"sum(increase(prometheus_sd_azure_refresh_failures_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Azure Refresh","refId":"E","step":2},{"expr":"sum(increase(prometheus_sd_consul_rpc_failures_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Consul RPC","refId":"F","step":2},{"expr":"sum(increase(prometheus_sd_dns_lookup_failures_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"DNS Lookup","refId":"G","step":2},{"expr":"sum(increase(prometheus_sd_ec2_refresh_failures_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"EC2 Refresh","refId":"H","step":2},{"expr":"sum(increase(prometheus_sd_gce_refresh_failures_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"GCE Refresh","refId":"I","step":2},{"expr":"sum(increase(prometheus_sd_marathon_refresh_failures_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Marathon Refresh","refId":"J","step":2},{"expr":"sum(increase(prometheus_sd_openstack_refresh_failures_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Openstack Refresh","refId":"K","step":2},{"expr":"sum(increase(prometheus_sd_triton_refresh_failures_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Triton Refresh","refId":"L","step":2},{"expr":"sum(increase(prometheus_target_scrapes_exceeded_sample_limit_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Sample Limit","refId":"M","step":2},{"expr":"sum(increase(prometheus_target_scrapes_sample_duplicate_timestamp_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Duplicate Timestamp","refId":"N","step":2},{"expr":"sum(increase(prometheus_target_scrapes_sample_out_of_bounds_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Timestamp Out of Bounds","refId":"O","step":2},{"expr":"sum(increase(prometheus_target_scrapes_sample_out_of_order_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Sample Out of Order","refId":"P","step":2},{"expr":"sum(increase(prometheus_treecache_zookeeper_failures_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Zookeeper","refId":"Q","step":2},{"expr":"sum(increase(prometheus_tsdb_compactions_failed_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"TSDB Compactions","refId":"R","step":2},{"expr":"sum(increase(prometheus_tsdb_head_series_not_found{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Series Not Found","refId":"S","step":2},{"expr":"sum(increase(prometheus_tsdb_reloads_failures_total{instance=~\"$instance\"}[5m])) > 0","format":"time_series","intervalFactor":2,"legendFormat":"Reload","refId":"T","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Failures and Errors","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Errors","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"errors","titleSize":"h6"},{"collapse":false,"height":"250px","panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":1,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":true,"steppedLine":false,"targets":[{"expr":"up{instance=~\"$instance\",job=~\"$job\"}","format":"time_series","interval":"","intervalFactor":1,"legendFormat":"{{instance}}","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Upness (stacked)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"none","label":"Up","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":5,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"prometheus_tsdb_head_chunks{job=~\"$job\",instance=~\"$instance\"}","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}","refId":"A","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Storage Memory Chunks","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Chunks","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"up","titleSize":"h6"},{"collapse":false,"height":250,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":3,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"prometheus_tsdb_head_series{job=~\"$job\",instance=~\"$instance\"}","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}","refId":"A","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Series Count","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Series","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":32,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"removed","transform":"negative-Y"}],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"sum( increase(prometheus_tsdb_head_series_created_total{instance=~\"$instance\"}[5m]) )","format":"time_series","intervalFactor":2,"legendFormat":"created","refId":"A","step":4},{"expr":"sum( increase(prometheus_tsdb_head_series_removed_total{instance=~\"$instance\"}[5m]) )","format":"time_series","intervalFactor":2,"legendFormat":"removed","refId":"B","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Series Created / Removed","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Series Count","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"series","titleSize":"h6"},{"collapse":false,"height":250,"panels":[{"aliasColors":{"10.58.3.10:80":"#BA43A9"},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"Rate of total number of appended samples","fill":1,"id":4,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":12,"stack":false,"steppedLine":false,"targets":[{"expr":"rate(prometheus_tsdb_head_samples_appended_total{job=~\"$job\",instance=~\"$instance\"}[1m])","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Appended Samples per Second","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Samples / Second","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"appended samples","titleSize":"h6"},{"collapse":false,"height":250,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"Total number of syncs that were executed on a scrape pool.","fill":1,"id":6,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(prometheus_target_scrape_pool_sync_total{job=~\"$job\",instance=~\"$instance\"}) by (scrape_job)","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{scrape_job}}","refId":"B","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Scrape Sync Total","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Syncs","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"Actual interval to sync the scrape pool.","fill":1,"id":21,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(prometheus_target_sync_length_seconds_sum{job=~\"$job\",instance=~\"$instance\"}[2m])) by (scrape_job) * 1000","format":"time_series","intervalFactor":2,"legendFormat":"{{scrape_job}}","refId":"A","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Target Sync","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Milliseconds","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"sync","titleSize":"h6"},{"collapse":false,"height":250,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":29,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"scrape_duration_seconds{instance=~\"$instance\"}","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}","refId":"A","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Scrape Duration","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Seconds","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"Total number of rejected scrapes","fill":1,"id":30,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(prometheus_target_scrapes_exceeded_sample_limit_total{job=~\"$job\",instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"exceeded sample limit","refId":"A","step":4},{"expr":"sum(prometheus_target_scrapes_sample_duplicate_timestamp_total{job=~\"$job\",instance=~\"$instance\"})","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"duplicate timestamp","refId":"B","step":4},{"expr":"sum(prometheus_target_scrapes_sample_out_of_bounds_total{job=~\"$job\",instance=~\"$instance\"})","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"out of bounds","refId":"C","step":4},{"expr":"sum(prometheus_target_scrapes_sample_out_of_order_total{job=~\"$job\",instance=~\"$instance\"}) ","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"out of order","refId":"D","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Rejected Scrapes","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"Scrapes","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"scrapes","titleSize":"h6"},{"collapse":false,"height":250,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The duration of rule group evaluations","fill":1,"id":10,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"1000 * rate(prometheus_evaluator_duration_seconds_sum{job=~\"$job\", instance=~\"$instance\"}[5m]) / rate(prometheus_evaluator_duration_seconds_count{job=~\"$job\", instance=~\"$instance\"}[5m])","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}","refId":"E","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Average Rule Evaluation Duration","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Milliseconds","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":11,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(http_request_duration_microseconds_count{job=~\"$job\",instance=~\"$instance\"}[1m])) by (handler) > 0","format":"time_series","intervalFactor":2,"legendFormat":"{{handler}}","refId":"A","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"HTTP Request Duration","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Microseconds","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":15,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(prometheus_engine_query_duration_seconds_sum{job=~\"$job\",instance=~\"$instance\"}) by (slice)","format":"time_series","intervalFactor":2,"legendFormat":"{{slice}}","refId":"A","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Prometheus Engine Query Duration Seconds","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Seconds","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"Rule-group evaluations \n - total\n - missed due to slow rule group evaluation\n - skipped due to throttled metric storage","fill":1,"id":31,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(prometheus_evaluator_iterations_total{job=~\"$job\", instance=~\"$instance\"}[5m]))","format":"time_series","intervalFactor":2,"legendFormat":"Total","refId":"B","step":4},{"expr":"sum(rate(prometheus_evaluator_iterations_missed_total{job=~\"$job\", instance=~\"$instance\"}[5m]))","format":"time_series","intervalFactor":2,"legendFormat":"Missed","refId":"A","step":4},{"expr":"sum(rate(prometheus_evaluator_iterations_skipped_total{job=~\"$job\", instance=~\"$instance\"}[5m]))","format":"time_series","intervalFactor":2,"legendFormat":"Skipped","refId":"C","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Rule Evaluator Iterations","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"iterations","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"durations","titleSize":"h6"},{"collapse":false,"height":250,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":22,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":12,"stack":false,"steppedLine":false,"targets":[{"expr":"rate(prometheus_notifications_sent_total[5m])","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Notifications Sent","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Notifications","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"notifications","titleSize":"h6"},{"collapse":false,"height":250,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":23,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"(time() - prometheus_config_last_reload_success_timestamp_seconds{job=~\"$job\",instance=~\"$instance\"}) / 60","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}","refId":"A","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Minutes Since Successful Config Reload","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Minutes","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":24,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":6,"stack":false,"steppedLine":false,"targets":[{"expr":"prometheus_config_last_reload_successful{job=~\"$job\",instance=~\"$instance\"}","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}","refId":"A","step":4}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Successful Config Reload","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"Success","logBase":1,"max":"1","min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"config","titleSize":"h6"},{"collapse":false,"height":250,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"GC invocation durations","fill":1,"id":28,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":12,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(go_gc_duration_seconds_sum{instance=~\"$instance\",job=~\"$job\"}[2m])) by (instance)","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"GC Rate / 2m","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"garbage collection","titleSize":"h6"},{"collapse":true,"height":250,"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"This is probably wrong!  Please help.","fill":1,"id":26,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"allocated","stack":false}],"spaceLength":10,"span":6,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(go_memstats_alloc_bytes_total{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","hide":true,"intervalFactor":2,"legendFormat":"alloc_bytes_total","refId":"A","step":10},{"expr":"sum(go_memstats_alloc_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"allocated","refId":"B","step":10},{"expr":"sum(go_memstats_buck_hash_sys_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"profiling bucket hash table","refId":"C","step":10},{"expr":"sum(go_memstats_gc_sys_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"GC metadata","refId":"D","step":10},{"expr":"sum(go_memstats_heap_alloc_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"heap in-use","refId":"E","step":10},{"expr":"sum(go_memstats_heap_idle_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"heap idle","refId":"F","step":10},{"expr":"sum(go_memstats_heap_inuse_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"heap in use","refId":"G","step":10},{"expr":"sum(go_memstats_heap_released_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"heap released","refId":"H","step":10},{"expr":"sum(go_memstats_heap_sys_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"heap system","refId":"I","step":10},{"expr":"sum(go_memstats_mcache_inuse_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"mcache in use","refId":"J","step":10},{"expr":"sum(go_memstats_mcache_sys_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"mcache sys","refId":"K","step":10},{"expr":"sum(go_memstats_mspan_inuse_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"mspan in use","refId":"L","step":10},{"expr":"sum(go_memstats_mspan_sys_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"mspan sys","refId":"M","step":10},{"expr":"sum(go_memstats_next_gc_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"heap next gc","refId":"N","step":10},{"expr":"sum(go_memstats_other_sys_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"other sys","refId":"O","step":10},{"expr":"sum(go_memstats_stack_inuse_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"stack in use","refId":"P","step":10},{"expr":"sum(go_memstats_stack_sys_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"stack sys","refId":"Q","step":10},{"expr":"sum(go_memstats_sys_bytes{job=~\"$job\", instance=~\"$instance\"})","format":"time_series","intervalFactor":2,"legendFormat":"sys","refId":"R","step":10}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Go Memory Usage (FIXME)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":9,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":3,"stack":false,"steppedLine":false,"targets":[{"expr":"prometheus_target_interval_length_seconds{instance=~\"$instance\", job=~\"$job\"}","format":"time_series","intervalFactor":2,"legendFormat":"{{quantile}} {{interval}}","refId":"A","step":20}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Scrape Duration","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Seconds","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","fill":1,"id":7,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"span":3,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(prometheus_target_interval_length_seconds_count{job=~\"$job\",instance=~\"$instance\"}[5m])) by (interval)","format":"time_series","intervalFactor":2,"legendFormat":"{{interval}}","refId":"A","step":20}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Target Scrapes / 5m","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Scrapes","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"repeatIteration":null,"repeatRowId":null,"showTitle":false,"title":"Broken, ignore","titleSize":"h6"}],"schemaVersion":14,"style":"dark","tags":[],"templating":{"list":[{"hide":0,"label":"datasource","name":"DS_PROMETHEUS","options":[],"query":"prometheus","refresh":1,"regex":"","type":"datasource"},{"allValue":null,"current":{},"datasource":"${DS_PROMETHEUS}","hide":0,"includeAll":true,"label":null,"multi":true,"name":"job","options":[],"query":"query_result(prometheus_tsdb_head_samples_appended_total)","refresh":2,"regex":"/.*job=\"([^\"]+)/","sort":1,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{},"datasource":"${DS_PROMETHEUS}","hide":0,"includeAll":true,"label":null,"multi":true,"name":"instance","options":[],"query":"query_result(up{job=~\"$job\"})","refresh":2,"regex":"/.*instance=\"([^\"]+).*/","sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"selected":true,"text":"1h","value":"1h"},"hide":0,"includeAll":false,"label":null,"multi":false,"name":"interval","options":[{"selected":true,"text":"1h","value":"1h"},{"selected":false,"text":"3h","value":"3h"},{"selected":false,"text":"6h","value":"6h"},{"selected":false,"text":"12h","value":"12h"},{"selected":false,"text":"1d","value":"1d"},{"selected":false,"text":"2d","value":"2d"},{"selected":false,"text":"7d","value":"7d"},{"selected":false,"text":"30d","value":"30d"},{"selected":false,"text":"90d","value":"90d"},{"selected":false,"text":"180d","value":"180d"}],"query":"1h, 3h, 6h, 12h, 1d, 2d, 7d, 30d, 90d, 180d","type":"custom"}]},"time":{"from":"now-30m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Prometheus 2.0 Overview","version":21}

  rabbitmq-overview-dashboard.json: |-
    {"__requires":[{"type":"grafana","id":"grafana","name":"Grafana","version":"6.0.0"},{"type":"datasource","id":"prometheus","name":"prometheus","version":"1.0.0"},{"type":"table","id":"table","name":"Table","version":""},{"type":"panel","id":"graph","name":"Graph","version":""},{"type":"panel","id":"singlestat","name":"Singlestat","version":""}],"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"description":"A new RabbitMQ Management Overview","editable":true,"gnetId":10991,"graphTooltip":1,"iteration":1581354443519,"links":[{"icon":"doc","tags":[],"targetBlank":true,"title":"Monitoring with Prometheus & Grafana","tooltip":"","type":"link","url":"https://www.rabbitmq.com/prometheus.html"}],"panels":[{"cacheTimeout":null,"colorBackground":true,"colorPrefix":false,"colorValue":false,"colors":["#37872D","#1F60C4","#C4162A"],"datasource":"${DS_PROMETHEUS}","description":"","format":"short","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"id":64,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"pluginVersion":"6.1.3","postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"sparkline":{"fillColor":"rgba(255, 255, 255, 0)","full":false,"lineColor":"rgb(255, 255, 255)","show":true},"tableColumn":"","targets":[{"expr":"sum(rabbitmq_queue_messages_ready * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","hide":false,"instant":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"10000,100000","timeFrom":null,"timeShift":null,"title":"Ready messages","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#C4162A","#1F60C4","#37872D"],"datasource":"${DS_PROMETHEUS}","decimals":null,"description":"","format":"short","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":6,"x":6,"y":0},"id":62,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"pluginVersion":"6.1.3","postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"sparkline":{"fillColor":"rgba(255, 255, 255, 0)","full":false,"lineColor":"rgb(255, 255, 255)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(rabbitmq_channel_messages_published_total[60s]) * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"-1,50","timeFrom":null,"timeShift":null,"title":"Incoming messages / s","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#C4162A","#1F60C4","#37872D"],"datasource":"${DS_PROMETHEUS}","description":"","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":12,"y":0},"id":66,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"pluginVersion":"6.1.3","postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"sparkline":{"fillColor":"rgba(255, 255, 255, 0)","full":false,"lineColor":"rgb(255, 255, 255)","show":true},"tableColumn":"","targets":[{"expr":"count(rabbitmq_channel_messages_published_total * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0,10","timeFrom":null,"timeShift":null,"title":"Publishers","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#C4162A","#1F60C4","#37872D"],"datasource":"${DS_PROMETHEUS}","description":"","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":16,"y":0},"id":37,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"pluginVersion":"6.1.3","postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"sparkline":{"fillColor":"rgba(255, 255, 255, 0)","full":false,"lineColor":"rgb(255, 255, 255)","show":true},"tableColumn":"","targets":[{"expr":"sum(rabbitmq_connections * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0,10","timeFrom":null,"timeShift":null,"title":"Connections","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#C4162A","#1F60C4","#37872D"],"datasource":"${DS_PROMETHEUS}","description":"","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":20,"y":0},"id":40,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"pluginVersion":"6.1.3","postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"sparkline":{"fillColor":"rgba(255, 255, 255, 0)","full":false,"lineColor":"rgb(255, 255, 255)","show":true},"tableColumn":"","targets":[{"expr":"sum(rabbitmq_queues * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0,10","timeFrom":null,"timeShift":null,"title":"Queues","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#37872D","#1F60C4","#C4162A"],"datasource":"${DS_PROMETHEUS}","description":"","format":"short","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":6,"x":0,"y":3},"id":65,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"pluginVersion":"6.1.3","postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"sparkline":{"fillColor":"rgba(255, 255, 255, 0)","full":false,"lineColor":"rgb(255, 255, 255)","show":true},"tableColumn":"","targets":[{"expr":"sum(rabbitmq_queue_messages_unacked * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","hide":false,"instant":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"100,500","timeFrom":null,"timeShift":null,"title":"Unacknowledged messages","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#C4162A","#1F60C4","#37872D"],"datasource":"${DS_PROMETHEUS}","description":"","format":"short","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":6,"x":6,"y":3},"id":63,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"pluginVersion":"6.1.3","postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"sparkline":{"fillColor":"rgba(255, 255, 255, 0)","full":false,"lineColor":"rgb(255, 255, 255)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(rabbitmq_channel_messages_redelivered_total[60s]) * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) +\nsum(rate(rabbitmq_channel_messages_delivered_total[60s]) * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) +\nsum(rate(rabbitmq_channel_messages_delivered_ack_total[60s]) * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) +\nsum(rate(rabbitmq_channel_get_total[60s]) * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) +\nsum(rate(rabbitmq_channel_get_ack_total[60s]) * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","hide":false,"instant":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"-1,50","timeFrom":null,"timeShift":null,"title":"Outgoing messages / s","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#C4162A","#1F60C4","#37872D"],"datasource":"${DS_PROMETHEUS}","description":"","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":12,"y":3},"id":41,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"pluginVersion":"6.1.3","postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"sparkline":{"fillColor":"rgba(255, 255, 255, 0)","full":false,"lineColor":"rgb(255, 255, 255)","show":true},"tableColumn":"","targets":[{"expr":"sum(rabbitmq_channel_consumers * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0,10","timeFrom":null,"timeShift":null,"title":"Consumers","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#C4162A","#1F60C4","#37872D"],"datasource":"${DS_PROMETHEUS}","description":"","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":16,"y":3},"id":38,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"pluginVersion":"6.1.3","postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"sparkline":{"fillColor":"rgba(255, 255, 255, 0)","full":false,"lineColor":"rgb(255, 255, 255)","show":true},"tableColumn":"","targets":[{"expr":"sum(rabbitmq_channels * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"0,10","timeFrom":null,"timeShift":null,"title":"Channels","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#1F60C4","#37872D","#C4162A"],"datasource":"${DS_PROMETHEUS}","description":"","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":20,"y":3},"id":67,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"pluginVersion":"6.1.3","postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":null,"text":"N/A","to":null}],"sparkline":{"fillColor":"rgba(255, 255, 255, 0)","full":false,"lineColor":"rgb(255, 255, 255)","show":true},"tableColumn":"","targets":[{"expr":"sum(rabbitmq_build_info * on(instance) group_left(rabbitmq_cluster) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"3,8","timeFrom":null,"timeShift":null,"title":"Nodes","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":null}],"valueName":"current"},{"collapsed":false,"datasource":"${DS_PROMETHEUS}","gridPos":{"h":1,"w":24,"x":0,"y":6},"id":4,"panels":[],"title":"NODES","type":"row"},{"columns":[],"datasource":"${DS_PROMETHEUS}","fontSize":"100%","gridPos":{"h":4,"w":24,"x":0,"y":7},"id":69,"links":[],"options":{},"pageSize":null,"scroll":true,"showHeader":true,"sort":{"col":8,"desc":false},"styles":[{"alias":"Erlang/OTP","align":"auto","colorMode":null,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":null,"link":false,"mappingType":1,"pattern":"erlang_version","thresholds":[""],"type":"string","unit":"none"},{"alias":"RabbitMQ","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"link":false,"mappingType":1,"pattern":"rabbitmq_version","thresholds":[""],"type":"string","unit":"none"},{"alias":"Host","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"link":false,"mappingType":1,"pattern":"instance","preserveFormat":false,"thresholds":[],"type":"string","unit":"short","valueMaps":[]},{"alias":"Node name","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"link":false,"mappingType":1,"pattern":"rabbitmq_node","thresholds":[""],"type":"string","unit":"short"},{"alias":"","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"Time","thresholds":[],"type":"hidden","unit":"short"},{"alias":"","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"Value","thresholds":[],"type":"hidden","unit":"short"},{"alias":"","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"job","thresholds":[],"type":"hidden","unit":"short"},{"alias":"Cluster","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"rabbitmq_cluster","thresholds":[],"type":"hidden","unit":"short","valueMaps":[]},{"alias":"prometheus.erl","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"prometheus_client_version","thresholds":[],"type":"string","unit":"short"},{"alias":"rabbitmq_prometheus","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"prometheus_plugin_version","thresholds":[],"type":"string","unit":"short"}],"targets":[{"expr":"rabbitmq_build_info * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}","format":"table","instant":true,"intervalFactor":1,"refId":"A"}],"timeFrom":null,"timeShift":null,"title":"","transform":"table","type":"table"},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"If the value is zero or less, the memory alarm will be triggered and all publishing connections across all cluster nodes will be blocked.\n\nThis value can temporarily go negative because the memory alarm is triggered with a slight delay.\n\nThe kernel's view of the amount of memory used by the node can differ from what the node itself can observe. This means that this value can be negative for a sustained period of time.\n\nBy default nodes use resident set size (RSS) to compute how much memory they use. This strategy can be changed (see the guides below).\n\n* [Alarms](https://www.rabbitmq.com/alarms.html)\n* [Memory Alarms](https://www.rabbitmq.com/memory.html)\n* [Reasoning About Memory Use](https://www.rabbitmq.com/memory-use.html)\n* [Blocked Connection Notifications](https://www.rabbitmq.com/connection-blocked.html)","fill":0,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":11},"hiddenSeries":false,"id":7,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(rabbitmq_resident_memory_limit_bytes * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) -\n(rabbitmq_process_resident_memory_bytes * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"warning","fill":true,"line":true,"op":"lt","value":536870912,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":0,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory available before publishers blocked","tooltip":{"shared":true,"sort":1,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":1,"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"This metric is reported for the partition where the RabbitMQ data directory is stored.\n\nIf the value is zero or less, the disk alarm will be triggered and all publishing connections across all cluster nodes will be blocked.\n\nThis value can temporarily go negative because the free disk space alarm is triggered with a slight delay.\n\n* [Alarms](https://www.rabbitmq.com/alarms.html)\n* [Disk Space Alarms](https://www.rabbitmq.com/disk-alarms.html)\n* [Disk Space](https://www.rabbitmq.com/production-checklist.html#resource-limits-disk-space)\n* [Persistence Configuration](https://www.rabbitmq.com/persistence-conf.html)\n* [Blocked Connection Notifications](https://www.rabbitmq.com/connection-blocked.html)","fill":0,"fillGradient":0,"gridPos":{"h":8,"w":8,"x":12,"y":11},"hiddenSeries":false,"id":8,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"rabbitmq_disk_space_available_bytes * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":1073741824,"yaxis":"left"},{"colorMode":"warning","fill":true,"line":true,"op":"lt","value":5368709120,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Disk space available before publishers blocked","tooltip":{"shared":true,"sort":1,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":1,"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"When this value reaches zero, new connections will not be accepted and disk write operations may fail.\n\nClient libraries, peer nodes and CLI tools will not be able to connect when the node runs out of available file descriptors.\n\n* [Open File Handles Limit](https://www.rabbitmq.com/production-checklist.html#resource-limits-file-handle-limit)","fill":0,"fillGradient":0,"gridPos":{"h":4,"w":4,"x":20,"y":11},"hiddenSeries":false,"id":2,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(rabbitmq_process_max_fds * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) -\n(rabbitmq_process_open_fds * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":500,"yaxis":"left"},{"colorMode":"warning","fill":true,"line":true,"op":"lt","value":1000,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"File descriptors available","tooltip":{"shared":true,"sort":1,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":-1,"format":"none","label":"","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"When this value reaches zero, new connections will not be accepted.\n\nClient libraries, peer nodes and CLI tools will not be able to connect when the node runs out of available file descriptors.\n\n* [Networking and RabbitMQ](https://www.rabbitmq.com/networking.html)","fill":0,"fillGradient":0,"gridPos":{"h":4,"w":4,"x":20,"y":15},"hiddenSeries":false,"id":5,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(rabbitmq_process_max_tcp_sockets * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) -\n(rabbitmq_process_open_tcp_sockets * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":500,"yaxis":"left"},{"colorMode":"warning","fill":true,"line":true,"op":"lt","value":1000,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"TCP sockets available","tooltip":{"shared":true,"sort":1,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":-1,"format":"none","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":"${DS_PROMETHEUS}","gridPos":{"h":1,"w":24,"x":0,"y":19},"id":27,"panels":[],"title":"QUEUED MESSAGES","type":"row"},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"Total number of ready messages ready to be delivered to consumers.\n\nAim to keep this value as low as possible. RabbitMQ behaves best when messages are flowing through it. It's OK for publishers to occasionally outpace consumers, but the expectation is that consumers will eventually process all ready messages.\n\nIf this metric keeps increasing, your system will eventually run out of memory and/or disk space. Consider using TTL or Queue Length Limit to prevent unbounded message growth.\n\n* [Queues](https://www.rabbitmq.com/queues.html)\n* [Consumers](https://www.rabbitmq.com/consumers.html)\n* [Queue Length Limit](https://www.rabbitmq.com/maxlength.html)\n* [Time-To-Live and Expiration](https://www.rabbitmq.com/ttl.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":0,"y":20},"hiddenSeries":false,"id":9,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rabbitmq_queue_messages_ready * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Messages ready to be delivered to consumers","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The total number of messages that are either in-flight to consumers, currently being processed by consumers or simply waiting for the consumer acknowledgements to be processed by the queue. Until the queue processes the message acknowledgement, the message will remain unacknowledged.\n\n* [Queues](https://www.rabbitmq.com/queues.html)\n* [Confirms and Acknowledgements](https://www.rabbitmq.com/confirms.html)\n* [Consumer Prefetch](https://www.rabbitmq.com/consumer-prefetch.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":12,"y":20},"hiddenSeries":false,"id":19,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rabbitmq_queue_messages_unacked * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Messages pending consumer acknowledgement","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":"${DS_PROMETHEUS}","gridPos":{"h":1,"w":24,"x":0,"y":25},"id":11,"panels":[],"title":"INCOMING MESSAGES","type":"row"},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The incoming message rate before any routing rules are applied.\n\nIf this value is lower than the number of messages published to queues, it may indicate that some messages are delivered to more than one queue.\n\nIf this value is higher than the number of messages published to queues, messages cannot be routed and will either be dropped or returned to publishers.\n\n* [Publishers](https://www.rabbitmq.com/publishers.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":0,"y":26},"hiddenSeries":false,"id":13,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_messages_published_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Messages published / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of messages confirmed by the broker to publishers. Publishers must opt-in to receive message confirmations.\n\nIf this metric is consistently at zero it may suggest that publisher confirms are not used by clients. The safety of published messages is likely to be at risk.\n\n* [Publisher Confirms](https://www.rabbitmq.com/confirms.html#publisher-confirms)\n* [Publisher Confirms and Data Safety](https://www.rabbitmq.com/publishers.html#data-safety)\n* [When Will Published Messages Be Confirmed by the Broker?](https://www.rabbitmq.com/confirms.html#when-publishes-are-confirmed)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":12,"y":26},"hiddenSeries":false,"id":18,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_messages_confirmed_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Messages confirmed to publishers / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of messages received from publishers and successfully routed to the master queue replicas.\n\n* [Queues](https://www.rabbitmq.com/queues.html)\n* [Publishers](https://www.rabbitmq.com/publishers.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":0,"y":31},"hiddenSeries":false,"id":61,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_queue_messages_published_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Messages routed to queues / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of messages received from publishers that have publisher confirms enabled and the broker has not confirmed yet.\n\n* [Publishers](https://www.rabbitmq.com/publishers.html)\n* [Confirms and Acknowledgements](https://www.rabbitmq.com/confirms.html)\n* [When Will Published Messages Be Confirmed by the Broker?](https://www.rabbitmq.com/confirms.html#when-publishes-are-confirmed)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":12,"y":31},"hiddenSeries":false,"id":12,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":null,"options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_messages_unconfirmed[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Messages unconfirmed to publishers / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of messages that cannot be routed and are dropped. \n\nAny value above zero means message loss and likely suggests a routing problem on the publisher end.\n\n* [Unroutable Message Handling](https://www.rabbitmq.com/publishers.html#unroutable)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":0,"y":36},"hiddenSeries":false,"id":34,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/rabbit/","color":"#C4162A"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_messages_unroutable_dropped_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Unroutable messages dropped / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of messages that cannot be routed and are returned back to publishers.\n\nSustained values above zero may indicate a routing problem on the publisher end.\n\n* [Unroutable Message Handling](https://www.rabbitmq.com/publishers.html#unroutable)\n* [When Will Published Messages Be Confirmed by the Broker?](https://www.rabbitmq.com/confirms.html#when-publishes-are-confirmed)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":12,"y":36},"hiddenSeries":false,"id":16,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/rabbit/","color":"#C4162A"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_messages_unroutable_returned_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Unroutable messages returned to publishers / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":"${DS_PROMETHEUS}","gridPos":{"h":1,"w":24,"x":0,"y":41},"id":29,"panels":[],"title":"OUTGOING MESSAGES","type":"row"},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of messages delivered to consumers. It includes messages that have been redelivered.\n\nThis metric does not include messages that have been fetched by consumers using `basic.get` (consumed by polling).\n\n* [Consumers](https://www.rabbitmq.com/consumers.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":0,"y":42},"id":14,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(\n  (rate(rabbitmq_channel_messages_delivered_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) +\n  (rate(rabbitmq_channel_messages_delivered_ack_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"})\n) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Messages delivered / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of messages that have been redelivered to consumers. It includes messages that have been requeued automatically and redelivered due to channel exceptions or connection closures.\n\nHaving some redeliveries is expected, but if this metric is consistently non-zero, it is worth investigating why.\n\n* [Negative Acknowledgement and Requeuing of Deliveries](https://www.rabbitmq.com/confirms.html#consumer-nacks-requeue)\n* [Consumers](https://www.rabbitmq.com/consumers.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":12,"y":42},"id":15,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_messages_redelivered_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"warning","fill":true,"line":true,"op":"gt","value":20,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":100,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Messages redelivered / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of message deliveries to consumers that use manual acknowledgement mode.\n\nWhen this mode is used, RabbitMQ waits for consumers to acknowledge messages before more messages can be delivered.\n\nThis is the safest way of consuming messages.\n\n* [Consumer Acknowledgements](https://www.rabbitmq.com/confirms.html)\n* [Consumer Prefetch](https://www.rabbitmq.com/consumer-prefetch.html)\n* [Consumer Acknowledgement Modes, Prefetch and Throughput](https://www.rabbitmq.com/confirms.html#channel-qos-prefetch-throughput)\n* [Consumers](https://www.rabbitmq.com/consumers.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":0,"y":47},"id":20,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_messages_delivered_ack_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Messages delivered with manual ack / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of message deliveries to consumers that use automatic acknowledgement mode.\n\nWhen this mode is used, RabbitMQ does not wait for consumers to acknowledge message deliveries.\n\nThis mode is fire-and-forget and does not offer any delivery safety guarantees. It tends to provide higher throughput and it may lead to consumer overload  and higher consumer memory usage.\n\n* [Consumer Acknowledgement Modes, Prefetch and Throughput](https://www.rabbitmq.com/confirms.html#channel-qos-prefetch-throughput)\n* [Consumers](https://www.rabbitmq.com/consumers.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":12,"y":47},"id":21,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_messages_delivered_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Messages delivered auto ack / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of message acknowledgements coming from consumers that use manual acknowledgement mode.\n\n* [Consumer Acknowledgements](https://www.rabbitmq.com/confirms.html)\n* [Consumer Prefetch](https://www.rabbitmq.com/consumer-prefetch.html)\n* [Consumer Acknowledgement Modes, Prefetch and Throughput](https://www.rabbitmq.com/confirms.html#channel-qos-prefetch-throughput)\n* [Consumers](https://www.rabbitmq.com/consumers.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":0,"y":52},"id":22,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_messages_acked_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Messages acknowledged / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":0,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of messages delivered to polling consumers that use automatic acknowledgement mode.\n\nThe use of polling consumers is highly inefficient and therefore strongly discouraged.\n\n* [Fetching individual messages](https://www.rabbitmq.com/consumers.html#fetching)\n* [Consumers](https://www.rabbitmq.com/consumers.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":12,"y":52},"id":24,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/rabbit/","color":"#C4162A"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_get_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Polling operations with auto ack / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of polling consumer operations that yield no result.\n\nAny value above zero means that RabbitMQ resources are wasted by polling consumers.\n\nCompare this metric to the other polling consumer metrics to see the inefficiency rate.\n\nThe use of polling consumers is highly inefficient and therefore strongly discouraged.\n\n* [Fetching individual messages](https://www.rabbitmq.com/consumers.html#fetching)\n* [Consumers](https://www.rabbitmq.com/consumers.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":0,"y":57},"id":25,"legend":{"alignAsTable":true,"avg":false,"current":true,"hideEmpty":false,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/rabbit/","color":"#C4162A"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_get_empty_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Polling operations that yield no result / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of messages delivered to polling consumers that use manual acknowledgement mode.\n\nThe use of polling consumers is highly inefficient and therefore strongly discouraged.\n\n* [Fetching individual messages](https://www.rabbitmq.com/consumers.html#fetching)\n* [Consumers](https://www.rabbitmq.com/consumers.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":12,"y":57},"id":23,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/rabbit/","color":"#C4162A"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channel_get_ack_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":0,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Polling operations with manual ack / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":"${DS_PROMETHEUS}","gridPos":{"h":1,"w":24,"x":0,"y":62},"id":53,"panels":[],"title":"QUEUES","type":"row"},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"Total number of queue masters  per node. \n\nThis metric makes it easy to see sub-optimal queue distribution in a cluster.\n\n* [Queue Masters, Data Locality](https://www.rabbitmq.com/ha.html#master-migration-data-locality)\n* [Queues](https://www.rabbitmq.com/queues.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":0,"y":63},"id":57,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"rabbitmq_queues * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total queues","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":-1,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of queue declarations performed by clients.\n\nLow sustained values above zero are to be expected. High rates may be indicative of queue churn or high rates of connection recovery. Confirm connection recovery rates by using the _Connections opened_ metric.\n\n* [Queues](https://www.rabbitmq.com/queues.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":4,"x":12,"y":63},"id":58,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_queues_declared_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"warning","fill":true,"line":true,"op":"gt","value":2,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":10,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Queues declared / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of new queues created (as opposed to redeclarations).\n\nLow sustained values above zero are to be expected. High rates may be indicative of queue churn or high rates of connection recovery. Confirm connection recovery rates by using the _Connections opened_ metric.\n\n* [Queues](https://www.rabbitmq.com/queues.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":4,"x":16,"y":63},"id":60,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_queues_created_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"warning","fill":true,"line":true,"op":"gt","value":2,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":10,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Queues created / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of queues deleted.\n\nLow sustained values above zero are to be expected. High rates may be indicative of queue churn or high rates of connection recovery. Confirm connection recovery rates by using the _Connections opened_ metric.\n\n* [Queues](https://www.rabbitmq.com/queues.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":4,"x":20,"y":63},"id":59,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_queues_deleted_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"warning","fill":true,"line":true,"op":"gt","value":2,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":10,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Queues deleted / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":"${DS_PROMETHEUS}","gridPos":{"h":1,"w":24,"x":0,"y":68},"id":51,"panels":[],"title":"CHANNELS","type":"row"},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"Total number of channels on all currently opened connections.\n\nIf this metric grows monotonically it is highly likely a channel leak in one of the applications. Confirm channel leaks by using the _Channels opened_ and _Channels closed_ metrics.\n\n* [Channel Leak](https://www.rabbitmq.com/channels.html#channel-leaks)\n* [Channels](https://www.rabbitmq.com/channels.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":0,"y":69},"id":54,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"rabbitmq_channels * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total channels","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":-1,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of new channels opened by applications across all connections. Channels are expected to be long-lived.\n\nLow sustained values above zero are to be expected. High rates may be indicative of channel churn or mass connection recovery. Confirm connection recovery rates by using the _Connections opened_ metric.\n\n* [High Channel Churn](https://www.rabbitmq.com/channels.html#high-channel-churn)\n* [Channels](https://www.rabbitmq.com/channels.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":6,"x":12,"y":69},"id":55,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channels_opened_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"warning","fill":true,"line":true,"op":"gt","value":2,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":10,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Channels opened / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of channels closed by applications across all connections. Channels are expected to be long-lived.\n\nLow sustained values above zero are to be expected. High rates may be indicative of channel churn or mass connection recovery. Confirm connection recovery rates by using the _Connections opened_ metric.\n\n* [High Channel Churn](https://www.rabbitmq.com/channels.html#high-channel-churn)\n* [Channels](https://www.rabbitmq.com/channels.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":6,"x":18,"y":69},"id":56,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_channels_closed_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"warning","fill":true,"line":true,"op":"gt","value":2,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":10,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Channels closed / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"datasource":"${DS_PROMETHEUS}","gridPos":{"h":1,"w":24,"x":0,"y":74},"id":46,"panels":[],"title":"CONNECTIONS","type":"row"},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"Total number of client connections.\n\nIf this metric grows monotonically it is highly likely a connection leak in one of the applications. Confirm connection leaks by using the _Connections opened_ and _Connections closed_ metrics.\n\n* [Connection Leak](https://www.rabbitmq.com/connections.html#monitoring)\n* [Connections](https://www.rabbitmq.com/connections.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":12,"x":0,"y":75},"id":47,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"rabbitmq_connections * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Total connections","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":-1,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of new connections opened by clients. Connections are expected to be long-lived.\n\nLow sustained values above zero are to be expected. High rates may be indicative of connection churn or mass connection recovery.\n\n* [Connection Leak](https://www.rabbitmq.com/connections.html#monitoring)\n* [Connections](https://www.rabbitmq.com/connections.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":6,"x":12,"y":75},"id":48,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_connections_opened_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"interval":"","intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"warning","fill":true,"line":true,"op":"gt","value":2,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":10,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Connections opened / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"cacheTimeout":null,"dashLength":10,"dashes":false,"datasource":"${DS_PROMETHEUS}","description":"The rate of connections closed. Connections are expected to be long-lived.\n\nLow sustained values above zero are to be expected. High rates may be indicative of connection churn or mass connection recovery.\n\n* [Connections](https://www.rabbitmq.com/connections.html)","fill":10,"fillGradient":0,"gridPos":{"h":5,"w":6,"x":18,"y":75},"id":49,"legend":{"alignAsTable":true,"avg":false,"current":true,"max":true,"min":true,"rightSide":false,"show":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null as zero","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^rabbit@[\\w.-]+0/","color":"#56A64B"},{"alias":"/^rabbit@[\\w.-]+1/","color":"#F2CC0C"},{"alias":"/^rabbit@[\\w.-]+2/","color":"#3274D9"},{"alias":"/^rabbit@[\\w.-]+3/","color":"#A352CC"},{"alias":"/^rabbit@[\\w.-]+4/","color":"#FF780A"},{"alias":"/^rabbit@[\\w.-]+5/","color":"#96D98D"},{"alias":"/^rabbit@[\\w.-]+6/","color":"#FFEE52"},{"alias":"/^rabbit@[\\w.-]+7/","color":"#8AB8FF"},{"alias":"/^rabbit@[\\w.-]+8/","color":"#CA95E5"},{"alias":"/^rabbit@[\\w.-]+9/","color":"#FFB357"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(rabbitmq_connections_closed_total[60s]) * on(instance) group_left(rabbitmq_cluster, rabbitmq_node) rabbitmq_identity_info{rabbitmq_cluster=\"$rabbitmq_cluster\"}) by(rabbitmq_node)","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"{{rabbitmq_node}}","refId":"A"}],"thresholds":[{"colorMode":"warning","fill":true,"line":true,"op":"gt","value":2,"yaxis":"left"},{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":10,"yaxis":"left"}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Connections closed / s","tooltip":{"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"","logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"15s","schemaVersion":22,"style":"dark","tags":["rabbitmq-prometheus"],"templating":{"list":[{"hide":0,"label":"datasource","name":"DS_PROMETHEUS","options":[],"query":"prometheus","refresh":1,"regex":"","type":"datasource"},{"allValue":null,"current":{},"datasource":"${DS_PROMETHEUS}","definition":"label_values(rabbitmq_identity_info, rabbitmq_cluster)","hide":0,"includeAll":false,"label":"RabbitMQ Cluster","multi":false,"name":"rabbitmq_cluster","options":[],"query":"label_values(rabbitmq_identity_info, rabbitmq_cluster)","refresh":2,"regex":"","skipUrlSync":false,"sort":1,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-15m","to":"now"},"timepicker":{"refresh_intervals":["15s","30s","1m","5m","10m"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"RabbitMQ-Overview","uid":"Kn5xm-gZk","version":1,"__inputs":[{"name":"DS_PROMETHEUS","label":"prometheus","description":"","type":"datasource","pluginId":"prometheus","pluginName":"Prometheus"}]}
